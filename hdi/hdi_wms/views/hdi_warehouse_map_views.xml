<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ===== WAREHOUSE LAYOUT - LIST VIEW ===== -->
    <record id="view_warehouse_layout_list" model="ir.ui.view">
        <field name="name">hdi.warehouse.layout.list</field>
        <field name="model">hdi.warehouse.layout</field>
        <field name="arch" type="xml">
            <list string="SÆ¡ Ä‘á»“ Kho">
                <field name="name"/>
                <field name="warehouse_id"/>
                <field name="rows"/>
                <field name="columns"/>
                <field name="total_slots"/>
                <field name="occupied_slots"/>
                <field name="utilization_rate" widget="percentage"/>
            </list>
        </field>
    </record>

    <!-- ===== WAREHOUSE LAYOUT - FORM VIEW ===== -->
    <record id="view_warehouse_layout_form" model="ir.ui.view">
        <field name="name">hdi.warehouse.layout.form</field>
        <field name="model">hdi.warehouse.layout</field>
        <field name="arch" type="xml">
            <form string="SÆ¡ Ä‘á»“ Kho">
                <header>
                    <button name="action_view_layout_map" string="ðŸ“Š Xem SÆ¡ Ä‘á»“" type="object" class="oe_highlight"/>
                    <button name="action_refresh_grid" string="ðŸ”„ LÃ m má»›i" type="object"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="TÃªn sÆ¡ Ä‘á»“ kho"/>
                        </h1>
                    </div>

                    <group>
                        <group string="ThÃ´ng tin cÆ¡ báº£n">
                            <field name="warehouse_id" required="1"/>
                            <field name="active"/>
                            <field name="description"/>
                        </group>
                        <group string="KÃ­ch thÆ°á»›c lÆ°á»›i">
                            <field name="rows" required="1"/>
                            <field name="columns" required="1"/>
                            <field name="levels" required="1"/>
                        </group>
                    </group>

                    <group string="KÃ­ch thÆ°á»›c Ã´">
                        <field name="cell_width" class="oe_inline"/>
                        <field name="cell_height" class="oe_inline"/>
                    </group>

                    <group string="Thá»‘ng kÃª">
                        <group>
                            <field name="total_slots"/>
                            <field name="occupied_slots"/>
                            <field name="empty_slots"/>
                            <field name="utilization_rate" widget="percentage"/>
                        </group>
                    </group>

                    <notebook>
                        <page string="CÃ¡c VÃ¹ng">
                            <field name="zone_ids" nolabel="1">
                                <list editable="bottom">
                                    <field name="name"/>
                                    <field name="zone_type"/>
                                    <field name="start_row"/>
                                    <field name="end_row"/>
                                    <field name="start_column"/>
                                    <field name="end_column"/>
                                    <field name="location_count"/>
                                </list>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===== WAREHOUSE LAYOUT - KANBAN VIEW ===== -->
    <record id="view_warehouse_layout_kanban" model="ir.ui.view">
        <field name="name">hdi.warehouse.layout.kanban</field>
        <field name="model">hdi.warehouse.layout</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
                <field name="warehouse_id"/>
                <field name="utilization_rate"/>
                <field name="occupied_slots"/>
                <field name="total_slots"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_card">
                            <div class="oe_kanban_card_header">
                                <h4><field name="name"/></h4>
                            </div>
                            <div class="oe_kanban_card_content">
                                <p><strong>Kho:</strong> <field name="warehouse_id"/></p>
                                <p><strong>Vá»‹ trÃ­:</strong> <field name="occupied_slots"/> / <field name="total_slots"/></p>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar"
                                         t-attf-style="width: #{record.utilization_rate.value}%"
                                         t-attf-aria-valuenow="#{record.utilization_rate.value}">
                                        <t t-esc="record.utilization_rate.value"/>%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ===== WAREHOUSE LAYOUT - ACTION ===== -->
    <record id="action_warehouse_layout" model="ir.actions.act_window">
        <field name="name">SÆ¡ Ä‘á»“ Kho</field>
        <field name="res_model">hdi.warehouse.layout</field>
        <field name="view_mode">list,form,kanban</field>
        <field name="search_view_id" ref=""/>
    </record>

    <!-- ===== WAREHOUSE ZONE - LIST VIEW ===== -->
    <record id="view_warehouse_zone_list" model="ir.ui.view">
        <field name="name">hdi.warehouse.zone.list</field>
        <field name="model">hdi.warehouse.zone</field>
        <field name="arch" type="xml">
            <list string="VÃ¹ng Kho">
                <field name="name"/>
                <field name="zone_type"/>
                <field name="layout_id"/>
                <field name="location_count"/>
            </list>
        </field>
    </record>

    <!-- ===== WAREHOUSE ZONE - FORM VIEW ===== -->
    <record id="view_warehouse_zone_form" model="ir.ui.view">
        <field name="name">hdi.warehouse.zone.form</field>
        <field name="model">hdi.warehouse.zone</field>
        <field name="arch" type="xml">
            <form string="VÃ¹ng Kho">
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" placeholder="TÃªn vÃ¹ng"/>
                        </h1>
                    </div>

                    <group>
                        <group string="ThÃ´ng tin cÆ¡ báº£n">
                            <field name="layout_id" required="1"/>
                            <field name="zone_type"/>
                            <field name="color" widget="color"/>
                        </group>
                        <group string="BiÃªn giá»›i">
                            <field name="start_row"/>
                            <field name="end_row"/>
                            <field name="start_column"/>
                            <field name="end_column"/>
                            <field name="location_count" readonly="1"/>
                        </group>
                    </group>

                    <field name="description" nolabel="1" placeholder="MÃ´ táº£ vÃ¹ng"/>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===== WAREHOUSE LOCATION GRID - LIST VIEW ===== -->
    <record id="view_warehouse_location_grid_list" model="ir.ui.view">
        <field name="name">hdi.warehouse.location.grid.list</field>
        <field name="model">hdi.warehouse.location.grid</field>
        <field name="arch" type="xml">
            <list string="Vá»‹ trÃ­ LÆ°á»›i">
                <field name="position_code"/>
                <field name="row"/>
                <field name="column"/>
                <field name="level"/>
                <field name="batch_id"/>
                <field name="zone_id"/>
                <field name="status"/>
                <field name="utilization_percent" widget="percentage"/>
                <field name="is_available"/>
            </list>
        </field>
    </record>

    <!-- ===== WAREHOUSE LOCATION GRID - FORM VIEW ===== -->
    <record id="view_warehouse_location_grid_form" model="ir.ui.view">
        <field name="name">hdi.warehouse.location.grid.form</field>
        <field name="model">hdi.warehouse.location.grid</field>
        <field name="arch" type="xml">
            <form string="Vá»‹ trÃ­ LÆ°á»›i">
                <header>
                    <button name="action_place_batch" string="ðŸŽ¯ GÃ¡n Lot" type="object" class="oe_highlight"/>
                    <button name="action_move_batch" string="ðŸ“¦ Chuyá»ƒn Vá»‹ trÃ­" type="object"/>
                    <button name="action_pick_batch" string="âœ… Láº¥y HÃ ng" type="object"/>
                    <button name="action_transfer_warehouse" string="ðŸšš Chuyá»ƒn Kho" type="object"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="position_code" class="oe_inline" readonly="1"/>
                        </h1>
                    </div>

                    <group>
                        <group string="Vá»‹ trÃ­">
                            <field name="layout_id" readonly="1"/>
                            <field name="row" readonly="1"/>
                            <field name="column" readonly="1"/>
                            <field name="level" readonly="1"/>
                            <field name="zone_id" readonly="1"/>
                        </group>
                        <group string="Tráº¡ng thÃ¡i">
                            <field name="status" widget="badge" readonly="1"/>
                            <field name="is_available" readonly="1"/>
                            <field name="is_reserved"/>
                        </group>
                    </group>

                    <group string="HÃ ng Hiá»‡n táº¡i">
                        <field name="batch_id" widget="many2one"/>
                        <field name="location_id"/>
                        <field name="current_items" readonly="1"/>
                        <field name="current_weight" readonly="1"/>
                        <field name="current_volume" readonly="1"/>
                        <field name="utilization_percent" readonly="1" widget="percentage"/>
                    </group>

                    <group string="Dung tÃ­ch">
                        <field name="capacity_type"/>
                        <field name="max_weight"/>
                        <field name="max_volume"/>
                        <field name="max_items"/>
                    </group>

                    <group string="Sáº£n pháº©m Äáº·t trÆ°á»›c">
                        <field name="product_family"/>
                        <field name="reserved_product_ids" nolabel="1" widget="many2many_tags"/>
                    </group>

                    <group string="Lá»‹ch sá»­">
                        <field name="last_batch_id" readonly="1"/>
                        <field name="last_change_date" readonly="1"/>
                    </group>

                    <field name="notes" nolabel="1" placeholder="Ghi chÃº vá» vá»‹ trÃ­ nÃ y"/>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ===== WAREHOUSE LOCATION GRID - ACTION ===== -->
    <record id="action_warehouse_location_grid" model="ir.actions.act_window">
        <field name="name">Vá»‹ trÃ­ LÆ°á»›i</field>
        <field name="res_model">hdi.warehouse.location.grid</field>
        <field name="view_mode">list,form</field>
    </record>

</odoo>
