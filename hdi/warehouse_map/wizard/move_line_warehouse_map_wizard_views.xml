<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_move_line_warehouse_map_wizard_form" model="ir.ui.view">
        <field name="name">move.line.warehouse.map.wizard.form</field>
        <field name="model">move.line.warehouse.map.wizard</field>
        <field name="arch" type="xml">
            <form string="Gán vị trí trên sơ đồ kho">
                <sheet>
                    <div class="oe_title">
                        <h1>Gán vị trí cho sản phẩm</h1>
                    </div>
                    
                    <group>
                        <group>
                            <field name="product_id" readonly="1"/>
                            <field name="lot_id" required="1"/>
                        </group>
                        <group>
                            <field name="quantity" readonly="1"/>
                            <field name="location_dest_id" readonly="1"/>
                        </group>
                    </group>
                    
                    <group string="Chọn sơ đồ kho">
                        <field name="warehouse_map_id" required="1"/>
                    </group>
                    
                    <group string="Chọn cách nhập vị trí">
                        <field name="view_mode" widget="radio" options="{'horizontal': true}"/>
                    </group>
                    
                    <group string="Vị trí trên sơ đồ" invisible="view_mode == 'map'">
                        <group>
                            <field name="posx"/>
                            <field name="posy"/>
                        </group>
                        <group>
                            <field name="posz"/>
                        </group>
                    </group>
                    
                    <group invisible="view_mode == 'form'">
                        <p>
                            <strong>Nhấp vào sơ đồ kho để chọn vị trí</strong><br/>
                            Sau đó nhấp nút "Xác nhận" để lưu vị trí đã chọn.
                        </p>
                    </group>
                </sheet>
                <footer>
                    <button string="Mở sơ đồ kho" type="object" name="action_open_warehouse_map" 
                            invisible="view_mode == 'form'" class="btn-primary"/>
                    <button string="Xác nhận" type="object" name="action_confirm_position" class="btn-primary"/>
                    <button string="Hủy" special="cancel" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>
</odoo>
