<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    
    <!-- 2D Warehouse Map Template -->
    <t t-name="hdi_warehouse_map.WarehouseMap2D">
        <div class="o_warehouse_map_2d_container">
            <canvas ref="mapCanvas" class="warehouse-map-canvas"/>
            
            <!-- Toolbar -->
            <div class="warehouse-map-toolbar">
                <button t-on-click="() => this.toggleEditMode()" 
                        t-att-class="{'active': state.editMode}">
                    <i class="fa fa-edit"/> Edit Mode
                </button>
                <button t-if="state.editMode" t-on-click="() => this.saveLayout()" class="btn-save">
                    <i class="fa fa-save"/> Save Layout
                </button>
                <button t-on-click="() => this.toggleHeatmap()" 
                        t-att-class="{'active': state.showHeatmap}">
                    <i class="fa fa-fire"/> Heatmap
                </button>
                <button t-on-click="() => this.toggleLabels()" 
                        t-att-class="{'active': state.showLabels}">
                    <i class="fa fa-tag"/> Labels
                </button>
                <button t-on-click="() => this.resetView()">
                    <i class="fa fa-refresh"/> Reset View
                </button>
                <button t-if="state.selectedBinLocationId" 
                        t-on-click="() => this.openBinDetailsForm()"
                        class="btn-details">
                    <i class="fa fa-info-circle"/> Chi ti·∫øt Bin
                </button>
            </div>
            
            <!-- Loading State -->
            <div t-if="!state.layoutData" class="o_map_loading">
                <i class="fa fa-spinner fa-spin fa-3x"/>
                <p>Loading warehouse map...</p>
            </div>
        </div>
    </t>
    
    <!-- 3D Warehouse View Template -->
    <t t-name="hdi_warehouse_map.WarehouseMap3D">
        <div class="o_warehouse_map_3d">
            <div ref="map3dContainer" class="warehouse-map-3d-view" style="width: 100%; height: 600px;"/>
            
            <!-- 3D Controls -->
            <div class="warehouse-map-toolbar">
                <button t-on-click="() => this.resetView()">
                    <i class="fa fa-refresh"/> Reset View
                </button>
                <div class="control-info">
                    <small>
                        üñ±Ô∏è Drag to rotate<br/>
                        üîç Scroll to zoom
                    </small>
                </div>
            </div>
            
            <!-- Loading State -->
            <div t-if="!state.layoutData" class="o_map_loading">
                <i class="fa fa-cube fa-spin fa-3x"/>
                <p style="color: white;">Loading 3D view...</p>
            </div>
        </div>
    </t>
    
    <!-- Main Controller Template -->
    <t t-name="hdi_warehouse_map.WarehouseMapController">
        <div class="warehouse_map_controller" style="padding: 10px;">
            <div class="alert alert-info">
                <strong>2D Warehouse Map</strong> - Use menu: Stock > Warehouse Map > 2D Warehouse Map
            </div>
            <div class="alert alert-info">
                <strong>3D Warehouse View</strong> - Use menu: Stock > Warehouse Map > 3D Warehouse View
            </div>
        </div>
    </t>
    
</templates>
