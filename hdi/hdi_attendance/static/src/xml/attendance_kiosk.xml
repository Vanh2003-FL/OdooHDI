<?xml version="1.0" encoding="utf-8"?>
<templates xml:space="preserve">
    <!-- Extend Attendance Kiosk to add Work Location selector -->
    <t t-name="hdi_attendance.HrAttendanceMyMainMenu" t-inherit="hr_attendance.HrAttendanceMyMainMenu" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_hr_attendance_employee')]" position="after">
            <t t-set="checked_in" t-value="employee.attendance_state=='checked_in'"/>
            <t t-set="en_checked_diff_ok" t-value="this.state.en_checked_diff_ok == true"/>
            <div class="mb-3 mx-3" t-if="!checked_in or (checked_in and en_checked_diff_ok)">
                <div class="row g-2 align-items-center">
                    <label class="col-4 fw-bold text-end" for="hdi_location_id">Địa điểm:</label>
                    <div class="col-8">
                        <select class="form-select" id="hdi_location_id" name="hdi_location_id">
                            <t t-foreach="this.state.locations || []" t-as="location" t-key="location.id">
                                <option t-att-value="location.id" t-att-selected="location.default_value == location.id ? 'selected' : undefined">
                                    <t t-esc="location.name"/>
                                </option>
                            </t>
                        </select>
                    </div>
                </div>
            </div>
        </xpath>
    </t>
</templates>
