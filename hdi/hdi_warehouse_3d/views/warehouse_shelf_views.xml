<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Shelf List View -->
    <record id="view_warehouse_shelf_list" model="ir.ui.view">
        <field name="name">warehouse.shelf.list</field>
        <field name="model">warehouse.shelf</field>
        <field name="arch" type="xml">
            <list string="Warehouse Shelves">
                <field name="code"/>
                <field name="name"/>
                <field name="area_id"/>
                <field name="shelf_type" widget="badge"/>
                <field name="width"/>
                <field name="depth"/>
                <field name="rotation"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- Shelf Form View -->
    <record id="view_warehouse_shelf_form" model="ir.ui.view">
        <field name="name">warehouse.shelf.form</field>
        <field name="model">warehouse.shelf</field>
        <field name="arch" type="xml">
            <form string="Warehouse Shelf">
                <sheet>
                    <!-- 1Ô∏è‚É£ TH√îNG TIN C∆† B·∫¢N (B·∫ÆTBU·ªòC) -->
                    <group string="Basic Information">
                        <group>
                            <field name="name" required="1" placeholder="e.g., SHELF-A1"/>
                            <field name="code" required="1" placeholder="e.g., SHA1"/>
                        </group>
                        <group>
                            <field name="area_id" required="1" domain="[('active', '=', True)]"/>
                            <field name="shelf_type" required="1" widget="selection"/>
                        </group>
                    </group>

                    <!-- 2Ô∏è‚É£ LAYOUT 2D (B·∫ÆTBU·ªòC) -->
                    <group string="Layout Position &amp; Dimensions">
                        <group>
                            <field name="position_x" required="1"/>
                            <field name="position_y" required="1"/>
                        </group>
                        <group>
                            <field name="width" required="1" string="Length (m)"/>
                            <field name="depth" required="1"/>
                        </group>
                    </group>

                    <!-- ROTATION (Optional) -->
                    <group string="Configuration">
                        <group>
                            <field name="rotation" help="Rotation angle: 0 or 90 degrees"/>
                            <field name="active" widget="boolean_toggle"/>
                        </group>
                        <group>
                            <field name="sequence"/>
                            <field name="warehouse_id" readonly="1" invisible="not warehouse_id"/>
                        </group>
                    </group>

                    <!-- NOTES -->
                    <group string="Notes">
                        <field name="notes" nolabel="1" colspan="2"/>
                    </group>

                    <!-- üî¥ DEPRECATED FIELDS SECTION (Hidden by default) -->
                    <details string="üî¥ Deprecated Fields (for backward compatibility)" closed="1">
                        <group string="Legacy Fields">
                            <group>
                                <field name="height" readonly="1"/>
                                <field name="max_weight" readonly="1"/>
                            </group>
                            <group>
                                <field name="level_count" readonly="1"/>
                                <field name="level_height" readonly="1"/>
                            </group>
                            <group>
                                <field name="bins_per_level" readonly="1"/>
                                <field name="orientation" readonly="1"/>
                            </group>
                        </group>
                    </details>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Shelf Action -->
    <record id="action_warehouse_shelf" model="ir.actions.act_window">
        <field name="name">Shelves</field>
        <field name="res_model">warehouse.shelf</field>
        <field name="view_mode">list,form</field>
        <field name="context">{'default_usage': 'view'}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Shelf
            </p>
            <p>
                <strong>‚úÖ Shelf = Physical container for bins</strong><br/>
                <br/>
                <strong>üîπ Required Fields (1Ô∏è‚É£):</strong>
                <ul>
                    <li><strong>Shelf Name:</strong> e.g., "SHELF-A1", "Storage Rack 01"</li>
                    <li><strong>Shelf Code:</strong> e.g., "SHA1", "SR01"</li>
                    <li><strong>Parent Area:</strong> Select which area/zone (Inbound, Storage, QC, etc.)</li>
                    <li><strong>Shelf Type:</strong> Selective / Pallet / Flow</li>
                </ul>
                <br/>
                <strong>üîπ Layout 2D (2Ô∏è‚É£) - Required for 2D visualization:</strong>
                <ul>
                    <li><strong>Position X, Y:</strong> Coordinate in warehouse (0.0 = top-left)</li>
                    <li><strong>Length (m):</strong> Width of shelf</li>
                    <li><strong>Depth (m):</strong> Depth of shelf</li>
                </ul>
                <br/>
                <strong>üîπ Configuration (Optional):</strong>
                <ul>
                    <li><strong>Rotation:</strong> 0 or 90 degrees</li>
                </ul>
                <br/>
                <strong>üìå Note:</strong> BINs are created separately as stock.location with location_type='bin'<br/>
                Each BIN must belong to exactly one SHELF (via location_id field).
            </p>
        </field>
    </record>
</odoo>
